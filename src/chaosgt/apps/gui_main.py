# Form implementation generated from reading ui file 'gui.ui'
#
# Created by: PyQt6 UI code generator 6.4.2
#
# WARNING: Any manual changes made to this file will be lost when pyuic6 is
# run again.  Do not edit this file unless you know what you are doing.


import sys
from PyQt6 import QtCore, QtGui, QtWidgets
from ..configs.config_loader import load


class AnalysisUI(QtWidgets.QMainWindow):
    def __init__(self):
        super().__init__()
        self.setObjectName("window_main")
        self.resize(961, 723)
        font = QtGui.QFont()
        font.setBold(False)
        self.setFont(font)

        self.wdt_main = QtWidgets.QWidget(parent=self)
        self.wdt_main.setObjectName("wdt_main")
        self.grid_layout_main = QtWidgets.QGridLayout(self.wdt_main)
        self.grid_layout_main.setObjectName("grid_layout_main")
        self.grp_img = QtWidgets.QGroupBox(parent=self.wdt_main)
        self.grp_img.setObjectName("grp_img")
        self.grid_layout_img = QtWidgets.QGridLayout(self.grp_img)
        self.grid_layout_img.setObjectName("grid_layout_img")
        self.wdt_img = QtWidgets.QWidget(parent=self.grp_img)
        self.wdt_img.setObjectName("wdt_img")
        self.grid_layout_img.addWidget(self.wdt_img, 0, 0, 1, 1)
        self.grp_img_nav = QtWidgets.QGroupBox(parent=self.grp_img)
        size_policy = QtWidgets.QSizePolicy(QtWidgets.QSizePolicy.Policy.Preferred, QtWidgets.QSizePolicy.Policy.Fixed)
        size_policy.setHorizontalStretch(0)
        size_policy.setVerticalStretch(0)
        size_policy.setHeightForWidth(self.grp_img_nav.sizePolicy().hasHeightForWidth())
        self.grp_img_nav.setSizePolicy(size_policy)
        self.grp_img_nav.setTitle("")
        self.grp_img_nav.setFlat(True)
        self.grp_img_nav.setObjectName("grp_img_nav")
        self.grid_layout_img_nav = QtWidgets.QGridLayout(self.grp_img_nav)
        self.grid_layout_img_nav.setObjectName("grid_layout_img_nav")
        self.btn_prev = QtWidgets.QPushButton(parent=self.grp_img_nav)
        self.btn_prev.setEnabled(False)
        self.btn_prev.setObjectName("btn_prev")
        self.grid_layout_img_nav.addWidget(self.btn_prev, 0, 0, 1, 1)
        self.btn_next = QtWidgets.QPushButton(parent=self.grp_img_nav)
        self.btn_next.setEnabled(False)
        self.btn_next.setObjectName("btn_next")
        self.grid_layout_img_nav.addWidget(self.btn_next, 0, 2, 1, 1)
        spacer_item = QtWidgets.QSpacerItem(40, 20, QtWidgets.QSizePolicy.Policy.Expanding,
                                            QtWidgets.QSizePolicy.Policy.Minimum)
        self.grid_layout_img_nav.addItem(spacer_item, 0, 1, 1, 1)
        self.grid_layout_img.addWidget(self.grp_img_nav, 1, 0, 1, 1)
        self.grid_layout_img.setRowStretch(0, 8)
        self.grid_layout_img.setRowStretch(1, 1)
        self.grid_layout_main.addWidget(self.grp_img, 1, 1, 1, 1)
        self.grp_tasks = QtWidgets.QGroupBox(parent=self.wdt_main)
        self.grp_tasks.setTitle("")
        self.grp_tasks.setAlignment(
            QtCore.Qt.AlignmentFlag.AlignBottom | QtCore.Qt.AlignmentFlag.AlignRight |
            QtCore.Qt.AlignmentFlag.AlignTrailing)
        self.grp_tasks.setFlat(True)
        self.grp_tasks.setObjectName("grp_tasks")
        self.grid_layout_tasks = QtWidgets.QGridLayout(self.grp_tasks)
        self.grid_layout_tasks.setObjectName("grid_layout_tasks")
        self.grp_compute = QtWidgets.QGroupBox(parent=self.grp_tasks)
        self.grp_compute.setObjectName("grp_compute")
        self.grid_layout_compute = QtWidgets.QGridLayout(self.grp_compute)
        self.grid_layout_compute.setObjectName("grid_layout_compute")
        self.btn_chaos_gt = QtWidgets.QPushButton(parent=self.grp_compute)
        self.btn_chaos_gt.setObjectName("btn_chaos_gt")
        self.grid_layout_compute.addWidget(self.btn_chaos_gt, 3, 0, 1, 1)
        self.btn_fd = QtWidgets.QPushButton(parent=self.grp_compute)
        self.btn_fd.setObjectName("btn_fd")
        self.grid_layout_compute.addWidget(self.btn_fd, 2, 0, 1, 1)
        self.btn_gt_metrics = QtWidgets.QPushButton(parent=self.grp_compute)
        self.btn_gt_metrics.setObjectName("btn_gt_metrics")
        self.grid_layout_compute.addWidget(self.btn_gt_metrics, 1, 0, 1, 1)
        self.grid_layout_tasks.addWidget(self.grp_compute, 10, 0, 1, 2)
        self.grp_graph = QtWidgets.QGroupBox(parent=self.grp_tasks)
        self.grp_graph.setObjectName("grp_graph")
        self.grid_layout_graph = QtWidgets.QGridLayout(self.grp_graph)
        self.grid_layout_graph.setObjectName("grid_layout_graph")
        self.btn_show_graph = QtWidgets.QPushButton(parent=self.grp_graph)
        self.btn_show_graph.setObjectName("btn_show_graph")
        self.grid_layout_graph.addWidget(self.btn_show_graph, 0, 0, 1, 1)
        self.btn_save_graph = QtWidgets.QPushButton(parent=self.grp_graph)
        self.btn_save_graph.setObjectName("btn_save_graph")
        self.grid_layout_graph.addWidget(self.btn_save_graph, 3, 0, 1, 1)
        self.btn_quick_graph_metrics = QtWidgets.QPushButton(parent=self.grp_graph)
        self.btn_quick_graph_metrics.setObjectName("btn_quick_graph_metrics")
        self.grid_layout_graph.addWidget(self.btn_quick_graph_metrics, 1, 0, 1, 1)
        self.grid_layout_tasks.addWidget(self.grp_graph, 8, 0, 1, 2)
        spacer_item_1 = QtWidgets.QSpacerItem(20, 40, QtWidgets.QSizePolicy.Policy.Minimum,
                                              QtWidgets.QSizePolicy.Policy.Expanding)
        self.grid_layout_tasks.addItem(spacer_item_1, 7, 0, 1, 1)
        self.grp_crop = QtWidgets.QGroupBox(parent=self.grp_tasks)
        self.grp_crop.setObjectName("grp_crop")
        self.grid_layout_crop = QtWidgets.QGridLayout(self.grp_crop)
        self.grid_layout_crop.setObjectName("grid_layout_crop")
        self.btn_crop = QtWidgets.QPushButton(parent=self.grp_crop)
        self.btn_crop.setObjectName("btn_crop")
        self.grid_layout_crop.addWidget(self.btn_crop, 4, 0, 1, 2)
        self.spb_brightness = QtWidgets.QSpinBox(parent=self.grp_crop)
        self.spb_brightness.setAlignment(QtCore.Qt.AlignmentFlag.AlignCenter)
        self.spb_brightness.setObjectName("spb_brightness")
        self.grid_layout_crop.addWidget(self.spb_brightness, 5, 1, 1, 1)
        self.spb_contrast = QtWidgets.QSpinBox(parent=self.grp_crop)
        self.spb_contrast.setAlignment(QtCore.Qt.AlignmentFlag.AlignCenter)
        self.spb_contrast.setObjectName("spb_contrast")
        self.grid_layout_crop.addWidget(self.spb_contrast, 6, 1, 1, 1)
        self.lbl_brightness = QtWidgets.QLabel(parent=self.grp_crop)
        self.lbl_brightness.setObjectName("lbl_brightness")
        self.grid_layout_crop.addWidget(self.lbl_brightness, 5, 0, 1, 1)
        self.lbl_contrast = QtWidgets.QLabel(parent=self.grp_crop)
        self.lbl_contrast.setObjectName("lbl_contrast")
        self.grid_layout_crop.addWidget(self.lbl_contrast, 6, 0, 1, 1)
        self.grid_layout_tasks.addWidget(self.grp_crop, 6, 0, 1, 2)
        spacer_item_2 = QtWidgets.QSpacerItem(20, 40, QtWidgets.QSizePolicy.Policy.Minimum,
                                              QtWidgets.QSizePolicy.Policy.Expanding)
        self.grid_layout_tasks.addItem(spacer_item_2, 9, 0, 1, 1)
        self.grid_layout_main.addWidget(self.grp_tasks, 1, 2, 1, 1)
        self.grp_path = QtWidgets.QGroupBox(parent=self.wdt_main)
        self.grp_path.setTitle("")
        self.grp_path.setObjectName("grp_path")
        self.grid_layout_path = QtWidgets.QGridLayout(self.grp_path)
        self.grid_layout_path.setObjectName("grid_layout_path")
        self.txt_img_path = QtWidgets.QLineEdit(parent=self.grp_path)
        self.txt_img_path.setObjectName("txt_img_path")
        self.grid_layout_path.addWidget(self.txt_img_path, 1, 1, 1, 1)
        self.lbl_out_path = QtWidgets.QLabel(parent=self.grp_path)
        font = QtGui.QFont()
        font.setBold(True)
        self.lbl_out_path.setFont(font)
        self.lbl_out_path.setObjectName("lbl_out_path")
        self.grid_layout_path.addWidget(self.lbl_out_path, 2, 0, 1, 1)
        self.btn_select_out_path = QtWidgets.QPushButton(parent=self.grp_path)
        self.btn_select_out_path.setObjectName("btn_select_out_path")
        self.grid_layout_path.addWidget(self.btn_select_out_path, 2, 2, 1, 1)
        self.txt_out_path = QtWidgets.QLineEdit(parent=self.grp_path)
        self.txt_out_path.setObjectName("txt_out_path")
        self.grid_layout_path.addWidget(self.txt_out_path, 2, 1, 1, 1)
        self.btn_select_img_path = QtWidgets.QPushButton(parent=self.grp_path)
        self.btn_select_img_path.setObjectName("btn_select_img_path")
        self.grid_layout_path.addWidget(self.btn_select_img_path, 1, 2, 1, 1)
        self.lbl_img_path = QtWidgets.QLabel(parent=self.grp_path)
        font = QtGui.QFont()
        font.setBold(True)
        self.lbl_img_path.setFont(font)
        self.lbl_img_path.setObjectName("lbl_img_path")
        self.grid_layout_path.addWidget(self.lbl_img_path, 1, 0, 1, 1)
        self.cbx_multi = QtWidgets.QCheckBox(parent=self.grp_path)
        font = QtGui.QFont()
        font.setBold(False)
        self.cbx_multi.setFont(font)
        self.cbx_multi.setObjectName("cbx_multi")
        self.grid_layout_path.addWidget(self.cbx_multi, 1, 3, 1, 1)
        self.grid_layout_main.addWidget(self.grp_path, 0, 1, 1, 2)
        self.grp_settings = QtWidgets.QGroupBox(parent=self.wdt_main)
        self.grp_settings.setEnabled(True)
        self.grp_settings.setFlat(True)
        self.grp_settings.setObjectName("grp_settings")
        self.grid_layout_settings = QtWidgets.QGridLayout(self.grp_settings)
        self.grid_layout_settings.setObjectName("grid_layout_settings")
        self.tree_settings = QtWidgets.QTreeView(parent=self.grp_settings)
        self.tree_settings.setObjectName("tree_settings")
        self.grid_layout_settings.addWidget(self.tree_settings, 0, 0, 1, 1)
        self.lbl_cite = QtWidgets.QLabel(parent=self.grp_settings)
        self.lbl_cite.setObjectName("lbl_cite")
        self.grid_layout_settings.addWidget(self.lbl_cite, 1, 0, 1, 1)
        self.grid_layout_main.addWidget(self.grp_settings, 0, 0, 2, 1)
        self.grid_layout_main.setColumnStretch(0, 2)
        self.grid_layout_main.setColumnStretch(1, 5)
        self.grid_layout_main.setColumnStretch(2, 1)

        self.setCentralWidget(self.wdt_main)
        self.menu_bar = QtWidgets.QMenuBar(parent=self)
        self.menu_bar.setGeometry(QtCore.QRect(0, 0, 961, 22))
        self.menu_bar.setObjectName("menu_bar")
        self.setMenuBar(self.menu_bar)
        self.status_bar = QtWidgets.QStatusBar(parent=self)
        self.status_bar.setObjectName("status_bar")
        self.setStatusBar(self.status_bar)
        self.tree_model = None

        self.re_translate_ui()
        self.init_tree()
        QtCore.QMetaObject.connectSlotsByName(self)

    def re_translate_ui(self):
        _translate = QtCore.QCoreApplication.translate
        self.setWindowTitle(_translate("window_main", "Chaos GT"))
        self.btn_prev.setText(_translate("window_main", "<< previous"))
        self.btn_next.setText(_translate("window_main", "next >>"))
        self.grp_compute.setTitle(_translate("window_main", "Computing"))
        self.btn_chaos_gt.setText(_translate("window_main", "Chaos GT"))
        self.btn_fd.setText(_translate("window_main", "Fractal Dimen."))
        self.btn_gt_metrics.setText(_translate("window_main", "GT Metrics"))
        self.grp_graph.setTitle(_translate("window_main", "Graph Tools"))
        self.btn_show_graph.setText(_translate("window_main", "Show Graph"))
        self.btn_save_graph.setText(_translate("window_main", "Save Graph"))
        self.btn_quick_graph_metrics.setText(_translate("window_main", "Quick Metrics"))
        self.grp_crop.setTitle(_translate("window_main", "Enhancing Tools"))
        self.btn_crop.setText(_translate("window_main", "Crop"))
        self.lbl_brightness.setText(_translate("window_main", "Brightness"))
        self.lbl_contrast.setText(_translate("window_main", "Contrast"))
        self.lbl_out_path.setText(_translate("window_main", "Output Dir"))
        self.btn_select_out_path.setText(_translate("window_main", "Select"))
        self.btn_select_img_path.setText(_translate("window_main", "Select"))
        self.lbl_img_path.setText(_translate("window_main", "Image Path"))
        self.cbx_multi.setText(_translate("window_main", "Multiple Images"))
        self.grp_settings.setTitle(_translate("window_main", "Settings"))
        self.lbl_cite.setText(_translate("window_main", "Cite our work using ..."))

    def init_tree(self):
        # config, options, options_img, options_gte, options_gtc = load()

        self.tree_settings.setHeaderHidden(True)
        tree_model = QtGui.QStandardItemModel()
        root_node = tree_model.invisibleRootItem()

        options_detection = TreeItem('[Detection Settings]', 12, set_bold=True)
        threshold_item = TreeItem('Binary Threshold', 10, set_checkable=True)
        options_detection.appendRow(threshold_item)

        global_thresh_item = TreeItem('Global Threshold', 10, set_checkable=True)
        # global_thresh_item = SpinBoxItem('Global Threshold')
        options_detection.appendRow(global_thresh_item)
        # spinbox = QtWidgets.QSpinBox()
        # spinbox.setMinimum(0)
        # spinbox.setMaximum(100)
        # self.tree_settings.setIndexWidget(tree_model.indexFromItem(global_thresh_item), spinbox)
        # self.tree_settings.setIndexWidget(tree_model.indexFromItem(global_thresh_item), spinbox)

        # delegate = SpinBoxDelegate()

        options_extraction = TreeItem('[Extraction Settings]', 12, set_bold=True)
        options_compute = TreeItem('[Computation Settings]', 12, set_bold=True)

        root_node.appendRow(options_detection)
        root_node.appendRow(options_extraction)
        root_node.appendRow(options_compute)
        self.tree_settings.setModel(tree_model)
        # self.tree_settings.setItemDelegate(delegate)


class TreeItem(QtGui.QStandardItem):

    def __init__(self, text='', font_size=12, set_bold=False, set_checkable=False, color=QtGui.QColor(0, 0, 0)):
        super().__init__()

        font = QtGui.QFont()
        font.setPointSize(font_size)
        font.setBold(set_bold)

        self.setEditable(False)
        self.setForeground(color)
        self.setFont(font)
        self.setText(text)
        self.setCheckable(set_checkable)


def pyqt_app():
    app = QtWidgets.QApplication(sys.argv)
    analysis_ui = AnalysisUI()
    analysis_ui.show()
    sys.exit(app.exec())
